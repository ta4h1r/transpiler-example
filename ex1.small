void Turn_left()
{
 pinMode(A1, OUTPUT);
 pinMode(8, OUTPUT);
 pinMode(9, OUTPUT);
 pinMode(10, OUTPUT);
 digitalWrite(8, HIGH);
 analogWrite(9, 153);
 digitalWrite(A1, LOW);
 analogWrite(10, 153);
 delay(350);
 analogWrite(9, 0);
 analogWrite(10, 0);
}

void Turn_right()
{
 pinMode(A1, OUTPUT);
 pinMode(8, OUTPUT);
 pinMode(9, OUTPUT);
 pinMode(10, OUTPUT);
 digitalWrite(8, LOW);
 analogWrite(9, 153);
 digitalWrite(A1, HIGH);
 analogWrite(10, 153);
 delay(350);
 analogWrite(9, 0);
 analogWrite(10, 0);
}

void forward(int power)
{
  pinMode(A1, OUTPUT);
  pinMode(8, OUTPUT);
  digitalWrite(8, LOW);
  analogWrite(9, power);
  digitalWrite(A1, LOW);
  analogWrite(10, power);
}

void backward(int power)
{
  pinMode(A1, OUTPUT);
  pinMode(8, OUTPUT);
  digitalWrite(8, HIGH);
  analogWrite(9, power);
  digitalWrite(A1, HIGH);
  analogWrite(10, power);
}

void rotate_left(int power)
{
  pinMode(A1, OUTPUT);
  pinMode(8, OUTPUT);
  digitalWrite(8, HIGH);
  analogWrite(9, power);
  digitalWrite(A1, LOW);
  analogWrite(10, power);
}

void rotate_right(int power)
{
  pinMode(A1, OUTPUT);
  pinMode(8, OUTPUT);
  digitalWrite(8, LOW);
  analogWrite(9, power);
  digitalWrite(A1, HIGH);
  analogWrite(10, power);
}

void stop()
{
  analogWrite(9, 0);
  analogWrite(10, 0);
}

void movement(int power, char Direction, int pause)
{
  pinMode(8, OUTPUT);
  pinMode(9, OUTPUT);
  pinMode(A1, OUTPUT);
  pinMode(10, OUTPUT);

  analogWrite(9, power);
  analogWrite(10, power);

  if (Direction == 'F')
  {
     digitalWrite(8, LOW);
     digitalWrite(A1, LOW);
     delay(pause);
     stop();
  }
  else if (Direction == 'B')
  {
     digitalWrite(8, HIGH);
     digitalWrite(8, HIGH);
     delay(pause);
     stop();
  }
  else if (Direction == 'L')
  {
     digitalWrite(8, HIGH);
     digitalWrite(8, LOW);
     delay(pause);
     stop();
  }
  else if (Direction == 'R')
  {
     digitalWrite(8, LOW);
     digitalWrite(8, HIGH);
     delay(pause);
     stop();
  }
}

void left_motor(int power, char Direction)
{
  pinMode(8, OUTPUT);
  pinMode(9, OUTPUT);
  analogWrite(9, power);
  if (Direction == 'F')
  {
     digitalWrite(8, LOW);
  }
  else if (Direction == 'B')
  {
     digitalWrite(8, HIGH);
  }
}

void setup()
{
  pinMode(4, INPUT);
  pinMode(5, INPUT);
}

void loop()
{
  Turn_left();
  Turn_right();
  forward(152);
  backward(152);
  rotate_left(152);
  rotate_right(152);
  if (digitalRead(4) == 0 && digitalRead(5) == 0)
  {
    movement(152,'F',1000);
  } else if (digitalRead(4) == 0 && digitalRead(5) == 0) {
    movement(128,'B',1000);} else if (digitalRead(4) == 0 && digitalRead(5) == 0) {
    left_motor(127.5,'F');}
  stop();

}